<view class="profile-container">
  <!-- 顶部用户信息卡片 -->
  <view class="user-card">
    <view class="user-info-container">
      <t-avatar 
        class="avatar" 
        image="{{userInfo.avatarUrl}}"
        size="large"
        badge-props="{{ { count: 0, dot: true } }}"
      />
      <view class="user-details">
        <view class="user-name-row">
          <view class="nickname">{{userInfo.nickName || '未登录'}}</view>
          <t-button wx:if="{{!hasUserInfo}}" size="small" theme="primary" class="login-btn" bind:tap="getUserProfile">
            登录/注册
          </t-button>
          <t-button wx:else size="small" variant="outline" class="edit-btn" bind:tap="navigateTo" data-url="../userSetting/userSetting">
            <t-icon name="edit" size="32rpx" />编辑资料
          </t-button>
        </view>
        <view class="user-id" wx:if="{{hasUserInfo}}">学号：2023123456</view>
      </view>
    </view>
  </view>
	
  <!-- 用户数据统计 -->
	<view>
		<t-grid class="stats-grid" column="{{4}}">
    <t-grid-item text="动态" value="{{3}}" icon="browse" />
    <t-grid-item text="收藏" value="{{12}}" icon="heart" />
    <t-grid-item text="关注" value="{{28}}" icon="user-add" />
    <t-grid-item text="粉丝" value="{{6}}" icon="user-circle" />
  	</t-grid>
	</view>
 
  <!-- 我的服务 -->
  <view class="section-container">
    <view class="section-title">
      <text>我的服务</text>
    </view>
    <t-cell-group>
      <t-cell 
        title="我的订单" 
        leftIcon="shop" 
        hover 
        arrow 
        url="../orders/orders" 
        note="查看全部订单"
        t-class="custom-cell"
      />
      <t-cell 
        title="我的二手" 
        leftIcon="cart" 
        hover 
        arrow 
        url="../market/myItems"
        t-class="custom-cell"
      />
      <t-cell 
        title="失物招领" 
        leftIcon="search" 
        hover 
        arrow 
        url="../lost/myLost"
        t-class="custom-cell"
      />
      <t-cell 
        title="我的活动" 
        leftIcon="calendar" 
        hover 
        arrow 
        url="../activity/myActivity"
        t-class="custom-cell"
      />
    </t-cell-group>
  </view>

  <!-- 系统设置 -->
  <view class="section-container">
    <view class="section-title">
      <text>系统设置</text>
    </view>
    <t-cell-group>
      <t-cell 
        title="消息通知" 
        leftIcon="notification" 
        hover 
        arrow 
        url="../notification/notification"
        bindtap="navigateTo"
        data-url="../notification/notification"
        t-class="custom-cell"
      >
        <t-badge count="{{5}}" slot="note" />
      </t-cell>
      <t-cell 
        title="隐私设置" 
        leftIcon="lock-on" 
        hover 
        arrow 
        url="../privacy/privacy"
        bindtap="navigateTo"
        data-url="../privacy/privacy"
        t-class="custom-cell"
      />
      <t-cell 
        title="通用设置" 
        leftIcon="setting" 
        hover 
        arrow 
        url="../settings/settings"
        bindtap="navigateTo"
        data-url="../settings/settings"
        t-class="custom-cell"
      />
    </t-cell-group>
  </view>

  <!-- 帮助与反馈 -->
  <view class="section-container">
    <view class="section-title">
      <text>帮助与反馈</text>
    </view>
    <t-cell-group>
      <t-cell 
        title="帮助中心" 
        leftIcon="help-circle" 
        hover 
        arrow 
        url="../help/help"
        bindtap="navigateTo"
        data-url="../help/help"
        t-class="custom-cell"
      />
      <t-cell 
        title="意见反馈" 
        leftIcon="chat" 
        hover 
        arrow 
        url="../feedback/feedback"
        bindtap="navigateTo"
        data-url="../feedback/feedback"
        t-class="custom-cell"
      />
      <t-cell 
        title="关于我们" 
        leftIcon="info-circle" 
        hover 
        arrow 
        url="../about/about"
        bindtap="navigateTo"
        data-url="../about/about"
        t-class="custom-cell"
      />
    </t-cell-group>
  </view>

  <view class="version-info">
    <t-divider>校园生活服务 v1.0.0</t-divider>
  </view>
</view> 